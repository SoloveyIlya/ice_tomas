<?php

namespace Database\Seeders;

use App\Models\Article;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Str;

class ArticleSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // Проверяем, есть ли уже статьи
        if (Article::count() > 0) {
            $this->command->info('Статьи уже существуют, пропускаем создание.');
            return;
        }

        $articles = [
            [
                'title' => 'Как правильно выбрать зимний комбинезон для ребенка',
                'excerpt' => 'Подробное руководство по выбору зимней одежды для детей. Узнайте, на что обращать внимание при покупке комбинезона.',
                'content' => '<h2>Введение</h2><p>Выбор зимнего комбинезона для ребенка — это важная задача, которая требует внимания к деталям. Правильно подобранная одежда обеспечит комфорт и безопасность вашего малыша в холодное время года.</p><h2>Основные критерии выбора</h2><p><strong>1. Температурный режим</strong></p><p>Каждый комбинезон рассчитан на определенный диапазон температур. Учитывайте климат вашего региона и планируемые активности ребенка.</p><p><strong>2. Размер</strong></p><p>Важно выбрать правильный размер, учитывая запас для поддевы. Слишком большой комбинезон может ограничивать движения, а маленький — не обеспечивать достаточную защиту от холода.</p><p><strong>3. Материалы</strong></p><p>Обращайте внимание на качество материалов. Мембранные ткани обеспечивают защиту от влаги и ветра, а качественный утеплитель сохраняет тепло.</p><h2>Заключение</h2><p>Правильный выбор зимнего комбинезона — это инвестиция в здоровье и комфорт вашего ребенка. Не экономьте на качестве, и ваш малыш будет с удовольствием проводить время на свежем воздухе даже в самые холодные дни.</p>',
                'is_published' => true,
                'published_at' => now()->subDays(5),
            ],
            [
                'title' => 'Температурные режимы: как одеть ребенка по погоде',
                'excerpt' => 'Подробная таблица температурных режимов и рекомендации по выбору одежды для разных погодных условий.',
                'content' => '<h2>Температурные режимы</h2><p>Каждая модель одежды ICE TOMAS рассчитана на определенный температурный диапазон. Это не просто рекомендация, а точный расчет, основанный на свойствах материалов и конструкции.</p><h2>Демисезон (+5° до -5°)</h2><p>Для мягкой осени и ранней зимы подойдут модели с легким утеплителем. Ребенок будет чувствовать себя комфортно во время активных прогулок.</p><h2>Зима (-5° до -20°)</h2><p>Стандартные зимние модели с достаточным количеством утеплителя. Идеальны для обычной зимы в средней полосе России и Беларуси.</p><h2>Сильные морозы (-20° до -40°)</h2><p>Модели с максимальной защитой от холода. Подходят для северных регионов и длительных прогулок в сильные морозы.</p><h2>Советы по выбору</h2><p>Всегда учитывайте активность ребенка. Для подвижных детей можно выбрать модель на один температурный режим ниже, так как при движении тело вырабатывает дополнительное тепло.</p>',
                'is_published' => true,
                'published_at' => now()->subDays(3),
            ],
            [
                'title' => 'Размеры детской одежды: полное руководство',
                'excerpt' => 'Как правильно определить размер одежды для ребенка. Таблицы размеров и советы по выбору.',
                'content' => '<h2>Как определить размер</h2><p>Основной параметр для выбора размера — рост ребенка. Измерьте рост малыша в обуви, так как зимняя обувь может добавить несколько сантиметров.</p><h2>Таблица размеров</h2><p>В нашем каталоге представлена подробная таблица размеров, которая учитывает все параметры: рост, длину изделия, ширину по груди и бедрам.</p><h2>Запас под поддеву</h2><p>Все модели ICE TOMAS рассчитаны на носку с поддевой. Это означает, что крой предусматривает дополнительное пространство для теплого белья и флисовых костюмов.</p><h2>Если размер между размерами</h2><p>Если рост ребенка находится между размерами, мы рекомендуем выбрать больший размер. Это обеспечит комфортную носку и возможность роста в течение сезона.</p><h2>Обмен и возврат</h2><p>Если размер не подошел, вы можете обменять товар в течение 14 дней. Мы всегда готовы помочь с выбором правильного размера.</p>',
                'is_published' => true,
                'published_at' => now()->subDays(1),
            ],
            [
                'title' => 'Уход за зимней одеждой: как сохранить качество',
                'excerpt' => 'Правила ухода за мембранной одеждой и утеплителем. Как стирать, сушить и хранить зимнюю одежду.',
                'content' => '<h2>Стирка</h2><p>Мембранную одежду следует стирать специальными средствами для мембранных тканей. Обычные порошки могут забить поры мембраны и снизить ее эффективность.</p><h2>Сушка</h2><p>Сушите одежду при комнатной температуре, избегая прямых солнечных лучей и источников тепла. Не используйте машинную сушку с нагревом.</p><h2>Хранение</h2><p>Храните одежду в расправленном виде в сухом месте. Не используйте вакуумные пакеты для длительного хранения, так как это может повредить утеплитель.</p><h2>Восстановление водоотталкивающих свойств</h2><p>После нескольких стирок может потребоваться восстановление водоотталкивающих свойств. Используйте специальные спреи для пропитки мембранных тканей.</p><h2>Ремонт</h2><p>При появлении небольших повреждений используйте специальные заплатки для мембранных тканей. Это сохранит защитные свойства одежды.</p>',
                'is_published' => true,
                'published_at' => now()->subDays(7),
            ],
            [
                'title' => 'Активный ребенок: особенности выбора одежды',
                'excerpt' => 'Как выбрать одежду для активных детей. Особенности кроя и материалов для подвижных игр.',
                'content' => '<h2>Особенности активных детей</h2><p>Активные дети много двигаются, бегают, прыгают. Одежда для них должна обеспечивать свободу движений и при этом защищать от холода и влаги.</p><h2>Крой и посадка</h2><p>Модели для активных детей имеют специальный крой, который не сковывает движения. Усиленные участки на коленях и локтях обеспечивают дополнительную прочность.</p><h2>Дышащие материалы</h2><p>При активных движениях ребенок потеет. Дышащие мембранные материалы позволяют влаге выходить наружу, сохраняя тело сухим.</p><h2>Температурный режим</h2><p>Для активных детей можно выбирать модели на один температурный режим ниже, так как при движении тело вырабатывает дополнительное тепло.</p><h2>Дополнительные элементы</h2><p>Светоотражающие элементы, регулируемые манжеты и капюшон — все это важно для безопасности и комфорта активного ребенка.</p>',
                'is_published' => true,
                'published_at' => now()->subDays(2),
            ],
            [
                'title' => 'Мембранные ткани: что это и как они работают',
                'excerpt' => 'Подробное объяснение принципов работы мембранных тканей и их преимуществ для детской одежды.',
                'content' => '<h2>Что такое мембрана</h2><p>Мембрана — это тонкая пленка с микроскопическими порами, которая пропускает водяной пар изнутри наружу, но не пропускает воду снаружи внутрь.</p><h2>Как это работает</h2><p>Когда ребенок активен, его тело выделяет влагу в виде пара. Мембрана позволяет этому пару выходить наружу, сохраняя тело сухим. В то же время дождь и снег не могут проникнуть внутрь благодаря размеру пор.</p><h2>Показатели мембраны</h2><p>Два основных показателя мембраны — это водонепроницаемость (измеряется в мм водяного столба) и паропроницаемость (измеряется в г/м²/24ч). Чем выше эти показатели, тем лучше защита.</p><h2>Уход за мембраной</h2><p>Мембрана требует специального ухода. Используйте только специальные средства для стирки и не используйте кондиционеры и отбеливатели.</p><h2>Преимущества</h2><p>Мембранные ткани обеспечивают оптимальный микроклимат: ребенок не перегревается и не мерзнет, остается сухим даже при активных играх.</p>',
                'is_published' => true,
                'published_at' => now()->subDays(4),
            ],
        ];

        foreach ($articles as $articleData) {
            Article::create([
                'title' => $articleData['title'],
                'slug' => Str::slug($articleData['title']),
                'excerpt' => $articleData['excerpt'],
                'content' => $articleData['content'],
                'is_published' => $articleData['is_published'],
                'published_at' => $articleData['published_at'],
                'views' => rand(10, 500),
            ]);
        }

        $this->command->info('Статьи успешно созданы!');
    }
}
